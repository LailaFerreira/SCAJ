<?xml version='1.0' encoding='UTF-8' ?>
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui">
   
      <h:head>
          <title>CLientes</title>
      </h:head>
      <h:body>
          <h1>Cadastro de CLientes</h1>
          <h:form>
              <h3>Id</h3>
              <!--Campo que receberá o nome do contato. Ao sair do campo o valor é salvo no atributo contato(nome) da classe ContatoBean-->
              <p:inputText id="idCliente" value="#{clienteBean.cliente.idCliente}"/>
              <h3>Número NIT</h3>
              <p:inputText id="carteiraNit" value="#{clienteBean.cliente.carteiraNit}"/>
              <h3>Profissão do Cliente</h3>
              <p:inputText id="profissao" value="#{clienteBean.cliente.profissao}"/>
              
              <!--Botão Salvar, ao ser acionado ele executa o método que está definido na propriedade actionListener 
              e depois atualiza os componentes listado na propriedade update-->
              <p:commandButton value="Salvar" id="salvar" actionListener="#{cclienteBean.inserir()}" update="idCliente, carteiraNit, profissao, tabela"/>
              <br /><br />
   
              <!--Tabela para exibir os dados.
              Na propriedade value coloca-se o método que retorna a lista de dados a ser exibida.
              A propriedade var serve para dar um nome ao objeto de iteraração da lista. Este nome é usado nas colunas para buscar os valores dos registros-->
              <p:dataTable var="cliente" value="#{clienteBean.getClientes()}" id="tabela">
                  <!--Coluna Nome-->
                  <p:column headerText="Id">
                  <!--aqui define-se que será exibido apenas texto nesta célula, com o componente outputText.
                  A propriedade value define o valor a ser exibido, neste caso buscando o nome do contato, lembrando que o contato descrito aqui é o mesmo da propriedade var acima.-->
                      <h:outputText value="#{cliente.idCliente}"></h:outputText>
                  </p:column>
                  <p:column headerText="Número NIT">
                      <h:outputText value="#{cliente.carteiraNit}"></h:outputText>
                  </p:column>
                  <p:column headerText="Profissão">
                      <h:outputText value="#{cliente.profissao}"></h:outputText>
                  </p:column>
   
                  <p:column style="width:100px;text-align: center">
                  <!--Nesta coluna será exibido um botão para excluir o registro.
                  O botão possui uma ação definida pela propriedade actionListener e logo após atualiza os componentes listados na propriedade update-->
                      <p:commandButton value="Excluir" 
                                       actionListener="#{clienteBean.deletar(cliente)}"
                                       update="tabela"/>
                  </p:column>
              </p:dataTable>
          </h:form>
      </h:body>
  </html> 